<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="SQL初级一、什么是SQL？SQL 是**结构化查询语言 Structured Query Language **的缩写，用来访问和操作数据库系统。SQL 语句既可以查询数据库中的数据，也可以添加、更新和删除数据库中的数据，还可以对数据库进行管理和维护操作。不同的数据库，都支持 SQL，这样，我们通过学习 SQL 这一种语言，就可以操作各种不同的数据库。 1、SQL定义了这么几种操作数据库的能力：">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="SQL初级一、什么是SQL？SQL 是**结构化查询语言 Structured Query Language **的缩写，用来访问和操作数据库系统。SQL 语句既可以查询数据库中的数据，也可以添加、更新和删除数据库中的数据，还可以对数据库进行管理和维护操作。不同的数据库，都支持 SQL，这样，我们通过学习 SQL 这一种语言，就可以操作各种不同的数据库。 1、SQL定义了这么几种操作数据库的能力：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%93.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%931.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%932.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%933.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%934.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%935.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%936.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%937.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%938.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%939.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%9310-16418126560921.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%9311-16418126691932.png">
<meta property="og:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%9312-16418127622883.png">
<meta property="article:published_time" content="2022-01-10T10:42:02.116Z">
<meta property="article:modified_time" content="2022-01-10T11:06:09.343Z">
<meta property="article:author" content="Yuu Xii">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%93.png">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 6.0.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/2.jpg" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">Yuu Xii</a></h1>
		</hgroup>

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">I&#39;m a developer.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="[object Object]" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-SQL初级" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/" class="article-date">
  	<time datetime="2022-01-10T10:42:02.116Z" itemprop="datePublished">2022-01-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SQL初级"><a href="#SQL初级" class="headerlink" title="SQL初级"></a>SQL初级</h1><h2 id="一、什么是SQL？"><a href="#一、什么是SQL？" class="headerlink" title="一、什么是SQL？"></a>一、什么是SQL？</h2><p>SQL 是**结构化查询语言 Structured Query Language **的缩写，用来访问和操作数据库系统。SQL 语句既可以查询数据库中的数据，也可以添加、更新和删除数据库中的数据，还可以对数据库进行管理和维护操作。不同的数据库，都支持 SQL，这样，我们通过学习 SQL 这一种语言，就可以操作各种不同的数据库。</p>
<h3 id="1、SQL定义了这么几种操作数据库的能力："><a href="#1、SQL定义了这么几种操作数据库的能力：" class="headerlink" title="1、SQL定义了这么几种操作数据库的能力："></a>1、SQL定义了这么几种操作数据库的能力：</h3><h3 id="（1）DDL：Data-Definition-Language"><a href="#（1）DDL：Data-Definition-Language" class="headerlink" title="（1）DDL：Data Definition Language"></a>（1）DDL：Data Definition Language</h3><p>允许用户定义数据，也就是创建表、删除表、修改表结构这</p>
<p>操作。通常，DDL由数据库管理员执行。</p>
<h3 id="（2）DML：Data-Manipulation-Language"><a href="#（2）DML：Data-Manipulation-Language" class="headerlink" title="（2）DML：Data Manipulation Language"></a>（2）DML：Data Manipulation Language</h3><p>为用户提供添加、删除、更新数据的能力，这些是应用程序对数据库的日常操作。</p>
<h3 id="（3-DQL：Data-Query-Language"><a href="#（3-DQL：Data-Query-Language" class="headerlink" title="（3)DQL：Data Query Language"></a>（3)DQL：Data Query Language</h3><p>允许用户查询数据，这也是通常最频繁的数据库日常操作。</p>
<p> 即：DDL-定义数据（增删表，修改表结构）DML-管理数据（增删改数  据）DQL-查询数据</p>
<h2 id="二、MySQL"><a href="#二、MySQL" class="headerlink" title="二、MySQL"></a>二、MySQL</h2><p>MySQL是目前应用最广泛的开源关系数据库，所使用的 SQL 语言是用于访问数据库的最常用的标准化语言，其特点为<strong>体积小、速度快、总体拥有成本低，尤其是开放源码这一特点。</strong></p>
<h2 id="三、关系数据库管理系统-Relational-Database-Management-System-的特点："><a href="#三、关系数据库管理系统-Relational-Database-Management-System-的特点：" class="headerlink" title="三、关系数据库管理系统(Relational Database Management System)的特点："></a>三、关系数据库管理系统(Relational Database Management System)的特点：</h2><p>1.数据以表格的形式出现</p>
<p>2.每行为各种记录名称</p>
<p>3.每列为记录名称所对应的数据域</p>
<p>4.许多的行和列组成一张表单</p>
<p>5.若干的表单组成database（数据库）</p>
<h3 id="1、基本概念"><a href="#1、基本概念" class="headerlink" title="1、基本概念"></a>1、<strong>基本概念</strong></h3><p><strong>数据库:</strong> 数据库是一些关联表的集合。</p>
<p><strong>数据表:</strong> 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</p>
<p><strong>列:</strong> 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据。</p>
<p><strong>行：</strong>一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</p>
<p><strong>冗余</strong>：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</p>
<p><strong>主键</strong>：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</p>
<p><strong>外键：</strong>外键用于关联两个表。</p>
<p><strong>复合键</strong>：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</p>
<p><strong>索引：</strong>使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</p>
<p><strong>参照完整性:</strong> 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="IMG_256"></p>
<p><strong>表头</strong><strong>(header)</strong>: 每一列的名称;</p>
<p><strong>列</strong><strong>(col):</strong> 具有相同数据类型的数据的集合;</p>
<p><strong>行</strong><strong>(row)</strong>: 每一行用来描述某条记录的具体信息;</p>
<p><strong>值</strong><strong>(value)</strong>: 行的具体信息, 每个值必须与该列的数据类型相同;</p>
<p><strong>键</strong><strong>(key)</strong>: 键的值在当前列中具有唯一性。</p>
<h2 id="四、使用终端操作数据库-（命令后加；）"><a href="#四、使用终端操作数据库-（命令后加；）" class="headerlink" title="四、使用终端操作数据库 （命令后加；）"></a>四、使用终端操作数据库 （命令后加；）</h2><h3 id="1、如何登录数据库服务器"><a href="#1、如何登录数据库服务器" class="headerlink" title="1、如何登录数据库服务器"></a>1、如何登录数据库服务器</h3><p> mysql -uroot -p登陆密码（登陆本机）</p>
<p> Mysql -h主机名 -p端口名 -u用户名 -p登陆密码</p>
<h3 id="2、退出"><a href="#2、退出" class="headerlink" title="2、退出"></a>2、退出</h3><p>exit 或ctrl+c</p>
<h3 id="3、如何查询数据库服务器中的数据库"><a href="#3、如何查询数据库服务器中的数据库" class="headerlink" title="3、如何查询数据库服务器中的数据库"></a>3、如何查询数据库服务器中的数据库</h3><p>  show database；</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%931.png" alt="IMG_256"></p>
<h3 id="4、如何选中一个数据库进行操作"><a href="#4、如何选中一个数据库进行操作" class="headerlink" title="4、如何选中一个数据库进行操作"></a>4、如何选中一个数据库进行操作</h3><p>  use 数据库</p>
<p>  Show tables 从当前数据库查看信息</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%932.png" alt="IMG_256"></p>
<p>show tables from 数据库名 可从别的数据库查看别的数据库信息</p>
<p>select database(); 查看当前所在数据库</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%933.png" alt="IMG_256"></p>
<h3 id="5、创建表和列"><a href="#5、创建表和列" class="headerlink" title="5、创建表和列"></a>5、创建表和列</h3><p>create table + 表名（</p>
<p>再是列的种类</p>
<p>若是结束了也用）；结尾</p>
<h3 id="6、查看表的内容"><a href="#6、查看表的内容" class="headerlink" title="6、查看表的内容"></a>6、查看表的内容</h3><p>desc +表名</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%934.png" alt="IMG_256"></p>
<h3 id="7、查看表的数据"><a href="#7、查看表的数据" class="headerlink" title="7、查看表的数据"></a>7、查看表的数据</h3><p>select * from +表名</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%935.png" alt="IMG_256"></p>
<h3 id="8、表中插入数据"><a href="#8、表中插入数据" class="headerlink" title="8、表中插入数据"></a>8、表中插入数据</h3><p>Insert into +表名（数据类型）value+（内容）</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%936.png" alt="IMG_256"></p>
<h3 id="9、修改数据"><a href="#9、修改数据" class="headerlink" title="9、修改数据"></a>9、修改数据</h3><p>update 表名 set 数据类型 = ’修改内容‘ where 数据类型 = 内容 </p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%937.png" alt="IMG_256"></p>
<h3 id="10、删除数据"><a href="#10、删除数据" class="headerlink" title="10、删除数据"></a>10、删除数据</h3><p> delete from stuinfo where内容；</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%938.png" alt="IMG_256"></p>
<h3 id="11、查看数据库版本"><a href="#11、查看数据库版本" class="headerlink" title="11、查看数据库版本"></a>11、查看数据库版本</h3><p>登录到mysql服务器：select version();</p>
<p>没有登陆：mysql –version/mysql –V</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%939.png" alt="IMG_256"></p>
<h3 id="12、mysql语法规范"><a href="#12、mysql语法规范" class="headerlink" title="12、mysql语法规范"></a>12、mysql语法规范</h3><p>不区分大小写，但建议关键字大小，表名列名小写</p>
<p>每条命令分号结尾，根据需要可以进行缩进，换行</p>
<p>注释 —–单行：#注释文字     多行：/<em>注释文字</em>/</p>
<h2 id="五、sql语言"><a href="#五、sql语言" class="headerlink" title="五、sql语言"></a>五、sql语言</h2><p>分为DQL语言、DML语言、   DDL语言、TCL语言</p>
<h3 id="1、DQL语言"><a href="#1、DQL语言" class="headerlink" title="1、DQL语言"></a>1、DQL语言</h3><h4 id="1）基础查询"><a href="#1）基础查询" class="headerlink" title="1）基础查询"></a>1）基础查询</h4><p>select+查询列表 from+表名；显示什么</p>
<p>类似于system.out.print()打印什么</p>
<p><strong>特点：1、查询列表可以是：表中的字段、常量值、表达式、函数</strong></p>
<p>​            <strong>2、查询的结果是一个虚拟的表格</strong></p>
<h4 id="2-use-启动的数据库名；"><a href="#2-use-启动的数据库名；" class="headerlink" title="2)use 启动的数据库名；"></a>2)use 启动的数据库名；</h4><p>查询单个字段 select <code>字段名</code> from 对应的表名；</p>
<p>查询表中的多个字段 select <code>字段名</code>，<code>字段名</code>….. from 对应的表名；</p>
<p>查询表中的所有字段</p>
<p>select <code>字段名</code>，<code>字段名</code>….. （可直接双击左边数据库的字段名，会按选择顺序显示）from 对应的表名；</p>
<p>select * from 对应的表名；</p>
<p>查询表中的常量值，只要是字符用双引号 select 100；</p>
<p>查询表中的表达式 select 100%98；</p>
<p>查询表中的函数（方法） select version();</p>
<h5 id="起别名（方便理解）"><a href="#起别名（方便理解）" class="headerlink" title="起别名（方便理解）"></a>起别名（方便理解）</h5><p>方式一，用as</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">100</span><span class="operator">&amp;</span><span class="number">98</span> <span class="keyword">As</span> 别名;</span><br></pre></td></tr></table></figure>

<p>方式二，用空格</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">100</span><span class="operator">&amp;</span><span class="number">98</span> 别名,<span class="keyword">first</span> 别名 <span class="keyword">from</span> 对应的表名;</span><br></pre></td></tr></table></figure>

<h5 id="去重-diatince"><a href="#去重-diatince" class="headerlink" title="去重  diatince"></a>去重  diatince</h5><p>案例：查询员工表中涉及的所有部门编号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> department <span class="keyword">from</span> 对应的表名;</span><br></pre></td></tr></table></figure>

<h5 id="号的作用-运算符，两个操作数都是数值型"><a href="#号的作用-运算符，两个操作数都是数值型" class="headerlink" title="+号的作用  运算符，两个操作数都是数值型"></a>+号的作用  运算符，两个操作数都是数值型</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">100</span><span class="operator">+</span><span class="number">90</span> ;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ‘<span class="number">123</span>’<span class="operator">+</span><span class="number">90</span> ;</span><br><span class="line">#其中一方为字符串，试图将字符型数值转换成数值型，如果转换成功，则继续做加法运算</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ‘<span class="keyword">join</span>’<span class="operator">+</span><span class="number">90</span> ;</span><br><span class="line">#如果转换失败，则返回原始数据</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">null</span><span class="operator">+</span><span class="number">90</span> ;</span><br><span class="line">#只要其中一方为<span class="keyword">null</span> ，则结果显示为<span class="keyword">null</span></span><br></pre></td></tr></table></figure>

<p> 案例：查询员工名和姓连接成一个字段，并显示为姓名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>) <span class="keyword">As</span> 别名 <span class="keyword">from</span> 对应的表名;</span><br><span class="line">#条件，如果c为空返回零</span><br><span class="line"><span class="keyword">select</span> ifnull(<span class="string">&#x27;c&#x27;</span>，<span class="number">0</span>) <span class="keyword">As</span> 别名 <span class="keyword">from</span> 对应的表名;</span><br></pre></td></tr></table></figure>

<h5 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h5><p>语法：select 查询列表 from 表名 where 筛选条件；（条件成立即可过滤出来） </p>
<p><strong>分类：按条件运算符 &lt; &gt; = != &lt;&gt;也为不等 &gt;= &lt;=</strong></p>
<p>​            <strong>按逻辑运算符 &amp;&amp; || ！用于链接条件表达式</strong></p>
<p>​            <strong>模糊查询 like 特点：和通配符搭配 ，</strong></p>
<p>​           <strong>%任意多个字符，包含0个字符</strong></p>
<p>​            <strong>_任意单个字符</strong></p>
<p>​           <strong>between and 特点：提高简洁读 包含临界值</strong></p>
<p>​           <strong>要从小到大排序</strong></p>
<p>​           <strong>in 特点：用于去判断某字段的值是不是in列表里的值</strong></p>
<p>​           <strong>字段的值要同种类型</strong></p>
<p>​           <strong>is null特点：=或&lt;&gt;不能用于判断null值</strong></p>
<hr>
<h5 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h5><p>查询工资高于12000的员工：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary<span class="operator">&gt;</span><span class="number">12000</span>;</span><br></pre></td></tr></table></figure>

<h5 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h5><p>查询工资在12000到15000的员工：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary<span class="operator">&gt;</span><span class="number">12000</span> <span class="operator">&amp;&amp;</span>salary <span class="operator">&lt;</span><span class="number">15000</span>;</span><br></pre></td></tr></table></figure>

<h5 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h5><p>like 像 （条件不是特别具体）</p>
<p>查询员工名包含第三个字符e，第五个字符为a的员工（条件不是特</p>
<p>别具体）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="keyword">like</span>‘__e_a<span class="operator">%</span>’(_代表字符个数);</span><br></pre></td></tr></table></figure>

<p>查询员工名包含第二个字符_的员工（条件不是特别具体）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="keyword">like</span>‘_\_<span class="operator">%</span>’ <span class="keyword">escape</span> ‘\’(任意符号都可代表转义，用<span class="keyword">escape</span>);    </span><br></pre></td></tr></table></figure>

<h5 id="between-and-在……-之间"><a href="#between-and-在……-之间" class="headerlink" title="between and 在…….之间"></a>between and 在…….之间</h5><p>查询员工编号在100到200之间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> id<span class="operator">&gt;</span><span class="number">100</span> <span class="operator">&amp;&amp;</span> id <span class="operator">&lt;</span><span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee id <span class="keyword">where</span> id  <span class="keyword">between</span> <span class="number">100</span> <span class="keyword">and</span> <span class="number">200</span> ;</span><br></pre></td></tr></table></figure>

<h5 id="In-用于去判断某字段的值是不是in列表里的值"><a href="#In-用于去判断某字段的值是不是in列表里的值" class="headerlink" title="In 用于去判断某字段的值是不是in列表里的值"></a>In 用于去判断某字段的值是不是in列表里的值</h5><p>查询员工工种编号是IT 、AD中的一个员工编号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee id <span class="keyword">where</span> job id <span class="operator">=</span> ‘IT’<span class="operator">||</span> job id <span class="operator">=</span> ‘<span class="keyword">AT</span>’;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee id <span class="keyword">where</span> job id <span class="keyword">in</span>(‘IT’‘<span class="keyword">AT</span>’);</span><br></pre></td></tr></table></figure>

<h5 id="is-null-只可以判断null值"><a href="#is-null-只可以判断null值" class="headerlink" title="is null 只可以判断null值"></a>is null 只可以判断null值</h5><p>查询没有（有）奖金的员工名和奖金率</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee id <span class="keyword">where</span> comsionn <span class="keyword">is</span> (<span class="keyword">not</span> )<span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p><strong>安全等于 &lt;=&gt; 判断普通类型的值，判断是否等于，等于返回</strong></p>
<p>查询没有（有）奖金的员工名和奖金率</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee id <span class="keyword">where</span> comsionn <span class="operator">&lt;=&gt;</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h5 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h5><p><strong>引入：select * from employee id 显示原始的数据</strong></p>
<p>当我们要按工资的高低先后显示出来，可直接在图形化界面直接点那个表头就可以排序</p>
<p> 用sql语句：select 查询列表 from 表 【where筛选条件】order by （支持别名）排序列表【ascldesc】 </p>
<p> <strong>特点: 高到低：desc   低到高：asc  不写默认是低到高</strong></p>
<p> order by 可以支持多个字段、单个字段、表达式、函数、别名</p>
<p> order by 一般放在查询语句最后面，limit的子句除外</p>
<p>查询员工工资从高到低：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span> ;</span><br></pre></td></tr></table></figure>

<p>查询部门编号大于等于90的员工信息，按入职时间先后进行排序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> department_id<span class="operator">&gt;=</span><span class="number">90</span> <span class="keyword">order</span> <span class="keyword">by</span> hirdate <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>按年薪高低显示员工年薪和信息（表达式）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span>, salary<span class="operator">*</span><span class="number">12</span><span class="operator">*</span>(<span class="number">1</span><span class="operator">+</span>ifnull(commission_pat,<span class="number">0</span>) 年薪 <span class="keyword">from</span> employee <span class="keyword">order</span> <span class="keyword">by</span> salary<span class="operator">*</span><span class="number">12</span><span class="operator">*</span>(<span class="number">1</span><span class="operator">+</span>ifnull(commission_pat,<span class="number">0</span>)<span class="operator">/</span>年薪 <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>按姓名长度显示员工姓名和工资（函数）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> length(last_name),last_name,salsry <span class="keyword">from</span> employee <span class="keyword">order</span> <span class="keyword">by</span> length(last_name) <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>查询员工信息，先按工资排序，再按员工编号排序（多个字段）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from employee order by salary asc,employee_id desc;</span><br></pre></td></tr></table></figure>

<h5 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h5><p>功能:类似于java中的方法，具备的含义将实现某个功能的逻辑语句封装到一个方法中，对外暴露方法名</p>
<p>好处：隐藏功能的实现细节，提高代码的重用性</p>
<p>调用：select 函数名（实参列表） 【from 表】 </p>
<p>特点：该方法叫什么（函数名）  干什么（函数功能）</p>
<p>分类：单行函数： 做处理 一个返一个    </p>
<p>分组函数： 做统计使用，又为统计函数、聚合函数、组函数  多个返一个</p>
<p>单行函数：字符、数学、日期、其他函数、流程控制函数</p>
<h6 id="1、字节函数："><a href="#1、字节函数：" class="headerlink" title="1、字节函数："></a>1、字节函数：</h6><p>Length获取参数的字节个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> length(‘<span class="keyword">join</span>’);  返回<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> length(‘张三丰hahaha’);  返回<span class="number">15</span> 一个汉字占<span class="number">3</span>个字节</span><br></pre></td></tr></table></figure>

<h6 id="2、Concat拼接字符串"><a href="#2、Concat拼接字符串" class="headerlink" title="2、Concat拼接字符串"></a>2、Concat拼接字符串</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(last_name,_,first_name); </span><br><span class="line">姓名<span class="keyword">from</span> employee   Uper、lower大写小写</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> Uper(‘<span class="keyword">join</span>’); 返回<span class="keyword">JOIN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">lower</span>(‘<span class="keyword">JOIN</span>’); 返回<span class="keyword">join</span></span><br></pre></td></tr></table></figure>

<h6 id="3、将姓大写，名小写，拼接"><a href="#3、将姓大写，名小写，拼接" class="headerlink" title="3、将姓大写，名小写，拼接"></a>3、将姓大写，名小写，拼接</h6><p>Substr、substring 截取字符串，索引从1开始</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> substr(<span class="string">&#x27;李莫愁爱上了陆展源&#x27;</span>,<span class="number">6</span>)out_put; </span><br><span class="line">#返回了陆展源</span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> substr(<span class="string">&#x27;李莫愁爱上了陆展源&#x27;</span>,<span class="number">1</span>,<span class="number">3</span>）out_put; </span><br><span class="line">#返回李莫愁</span><br></pre></td></tr></table></figure>

<h6 id="4、Instr返回第一次出现的起始索引"><a href="#4、Instr返回第一次出现的起始索引" class="headerlink" title="4、Instr返回第一次出现的起始索引"></a>4、Instr返回第一次出现的起始索引</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> Instr(<span class="string">&#x27;李莫愁爱上了陆展源&#x27;</span>,<span class="string">&#x27;陆展源&#x27;</span>)<span class="keyword">as</span> out_put  <span class="keyword">from</span> employee;</span><br><span class="line">#返回<span class="number">7</span>，找不到返回<span class="number">0</span></span><br></pre></td></tr></table></figure>

<h6 id="5、trim-去前后"><a href="#5、trim-去前后" class="headerlink" title="5、trim 去前后"></a>5、trim 去前后</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="built_in">trim</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;aaaaaa张aaaaaaa翠山aaaaaaaaaaaaaaaaa &#x27;</span>)<span class="keyword">as</span> out_put ;</span><br><span class="line">#返回张aaaaaaa翠山</span><br></pre></td></tr></table></figure>

<h6 id="6、Lpad-用指定字符左填充"><a href="#6、Lpad-用指定字符左填充" class="headerlink" title="6、Lpad 用指定字符左填充"></a>6、Lpad 用指定字符左填充</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> lpad(<span class="string">&#x27;殷素素&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;*&#x27;</span>)<span class="keyword">as</span> out_put; </span><br><span class="line">#返回<span class="operator">*</span><span class="operator">*</span>殷素素</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="7、rpad-用指定字符右填充"><a href="#7、rpad-用指定字符右填充" class="headerlink" title="7、rpad 用指定字符右填充"></a>7、rpad 用指定字符右填充</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> rpad(<span class="string">&#x27;殷素素&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;*&#x27;</span>)<span class="keyword">as</span> out_put; </span><br><span class="line">#返回殷素素</span><br><span class="line"></span><br><span class="line">#replace 替换</span><br></pre></td></tr></table></figure>

<h6 id="8、replace-替换"><a href="#8、replace-替换" class="headerlink" title="8、replace 替换"></a>8、replace 替换</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> replace(<span class="string">&#x27;殷素素&#x27;</span>,<span class="string">&#x27;殷&#x27;</span>,<span class="string">&#x27;赵&#x27;</span>)s out_put ; </span><br><span class="line">#返回赵素素</span><br></pre></td></tr></table></figure>

<h5 id="数学函数："><a href="#数学函数：" class="headerlink" title="数学函数："></a>数学函数：</h5><h6 id="1、Round-四舍五入"><a href="#1、Round-四舍五入" class="headerlink" title="1、Round 四舍五入"></a>1、Round 四舍五入</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> round(<span class="number">1.45</span>);</span><br><span class="line">#先弄绝对值 再加正负号</span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> round(<span class="number">1.457</span>,<span class="number">2</span>);</span><br><span class="line">#小数点保留两位，返回<span class="number">1.46</span></span><br></pre></td></tr></table></figure>

<h6 id="2、ceil-向上取整，返回大于等于参数的最小整数"><a href="#2、ceil-向上取整，返回大于等于参数的最小整数" class="headerlink" title="2、ceil 向上取整，返回大于等于参数的最小整数"></a>2、ceil 向上取整，返回大于等于参数的最小整数</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="built_in">ceil</span>(<span class="number">1.45</span>);</span><br><span class="line">#返回<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> <span class="built_in">ceil</span>(<span class="number">1.00</span>);</span><br><span class="line">#返回<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>3、Floor 向下取整，返回小于等于参数的最大整数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="built_in">floor</span>(<span class="number">-9.99</span>);</span><br><span class="line">#返回<span class="number">-10</span></span><br></pre></td></tr></table></figure>

<p>4、truncate截断，保留小数后几位</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="keyword">truncate</span>(<span class="number">1.65</span>，<span class="number">1</span>);</span><br><span class="line"># 返回<span class="number">1.6</span></span><br></pre></td></tr></table></figure>

<p>5、Mod 取余，被除数负数取余为负数，被除数正数取余为正数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Mod</span>(a，b)</span><br><span class="line">#语法：a<span class="operator">-</span> （a<span class="operator">/</span>b）<span class="operator">*</span>b</span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> <span class="built_in">mod</span>(<span class="number">10</span>,<span class="number">3</span>) </span><br><span class="line">#<span class="number">10</span><span class="operator">%</span><span class="number">3</span>返回<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h5 id="日期函数："><a href="#日期函数：" class="headerlink" title="日期函数："></a>日期函数：</h5><p>1、Now 返回当前系统日期+时间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> now();</span><br></pre></td></tr></table></figure>

<p>2、curdate返回当前系统日期</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> curdate();</span><br></pre></td></tr></table></figure>

<p>3、Curtime返回当前系统时间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> curtime();</span><br></pre></td></tr></table></figure>

<p>4、获取指定的年月日小时分钟秒</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="keyword">year</span>(now());</span><br><span class="line">#年</span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> <span class="keyword">year</span>(<span class="number">1999</span>);</span><br><span class="line">#年</span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> <span class="keyword">month</span>(now());</span><br><span class="line">#月 </span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span> month_name(now());</span><br><span class="line">#月</span><br><span class="line"></span><br><span class="line">Str_to_date</span><br><span class="line">#将日期格式的字符转换成指定格式的日期</span><br><span class="line"></span><br><span class="line">Str_to_date(<span class="string">&#x27;9-13-1999&#x27;</span>,<span class="string">&#x27;%m-%d-%Y&#x27;</span>);</span><br><span class="line">#<span class="number">1999</span><span class="number">-09</span><span class="number">-13</span></span><br><span class="line"></span><br><span class="line">Date_format:</span><br><span class="line">#将日期转换成字符</span><br><span class="line"></span><br><span class="line">Date_format(<span class="string">&#x27;2018/6/6&#x27;</span>,<span class="string">&#x27;%Y年%m月%d日&#x27;</span>);</span><br><span class="line">#<span class="number">2018</span>年<span class="number">6</span>月<span class="number">6</span>日</span><br></pre></td></tr></table></figure>

<h5 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> vesion();</span><br><span class="line">#查看当前数据库版本</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> database();</span><br><span class="line">#查看数据库</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">user</span>();</span><br><span class="line">#查看用户</span><br></pre></td></tr></table></figure>

<h5 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h5><p>Select if（条件，ture表达式值，flse表达式值）</p>
<p>案例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> if (<span class="number">10</span><span class="operator">&gt;</span><span class="number">5</span>,大,小)</span><br></pre></td></tr></table></figure>

<h6 id="1、case函数："><a href="#1、case函数：" class="headerlink" title="1、case函数："></a>1、case函数：</h6><p>使用一：类似于java的switch case的效果</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Case</span>(要判断的字段表达式)</span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span>常量值<span class="number">1</span> <span class="keyword">then</span> 要显示的语句<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span>常量值<span class="number">2</span> <span class="keyword">then</span> 要显示的语句<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">   ..............................</span><br><span class="line"></span><br><span class="line"><span class="keyword">Else</span> 要显示的语句;</span><br><span class="line"></span><br><span class="line"><span class="keyword">End</span>  </span><br></pre></td></tr></table></figure>

<p>【end可单独使用，也可搭配select】</p>
<p>案例查询员工工资 部门号为30 显示的工资为原工资的1.1倍</p>
<p>​         部门号为40 显示的工资为原工资的1.2倍</p>
<p>​         其他员工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary原始工资,department_id，</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> department_id</span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> <span class="number">30</span> <span class="keyword">then</span> salary<span class="operator">*</span><span class="number">1.1</span> (不是语句不放分号)</span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> <span class="number">40</span> <span class="keyword">then</span> salary<span class="operator">*</span><span class="number">1.2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Else</span> salary</span><br><span class="line"></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">as</span> 新工资</span><br><span class="line"></span><br><span class="line"><span class="keyword">From</span> employee;</span><br></pre></td></tr></table></figure>

<p>使用二：类似于java多重if</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">If(条件<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">语句<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(条件<span class="number">2</span>)&#123;</span><br><span class="line"></span><br><span class="line">语句<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">语句n;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Case</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> 条件<span class="number">1</span> <span class="keyword">then</span> 值<span class="number">1</span>或语句<span class="number">1</span>; (是<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> 条件<span class="number">2</span> <span class="keyword">then</span> 值<span class="number">2</span>或语句<span class="number">2</span>;(是<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">​        ........</span><br><span class="line"></span><br><span class="line"><span class="keyword">Else</span> 要显示的值或语句</span><br><span class="line"></span><br><span class="line"><span class="keyword">End</span></span><br></pre></td></tr></table></figure>

<p>查询员工新工资</p>
<p>如果工资&gt;20000，显示A级别</p>
<p>如果工资&gt;15000，显示B级别</p>
<p>如果工资&gt;10000，显示C级别</p>
<p>否则，显示D</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary原始工资，department_id,</span><br><span class="line"></span><br><span class="line"><span class="keyword">Case</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> salary <span class="operator">&gt;</span><span class="number">20000</span> <span class="keyword">then</span> <span class="string">&#x27;A&#x27;</span>（不是语句不放分号）</span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> salary <span class="operator">&gt;</span><span class="number">15000</span> <span class="keyword">then</span> <span class="string">&#x27;B&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">When</span> salary <span class="operator">&gt;</span><span class="number">10000</span> <span class="keyword">then</span> <span class="string">&#x27;C&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Else</span> <span class="string">&#x27;D&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">as</span> 新工资</span><br><span class="line"></span><br><span class="line"><span class="keyword">From</span> employee;</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h5 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h5><p>特点：1、sum、avg一般用于处理数值型</p>
<p>​            2、max、min、count、用于处理任何类型</p>
<p>​            3、分组函数都null没有参与运算</p>
<p>​            4、可以和distinct搭配，去重</p>
<p>​            5、和分组函数一同查询的字段有限制，要求是ground by的字段</p>
<p>select avg（salary）只有一个，employee_id很多 from employee</p>
<h6 id="1、Sum求和"><a href="#1、Sum求和" class="headerlink" title="1、Sum求和"></a>1、Sum求和</h6><p>  简单的使用 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sun(salary)<span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure>

<h6 id="2、Avg平均值"><a href="#2、Avg平均值" class="headerlink" title="2、Avg平均值"></a>2、Avg平均值</h6><p> 简单的使用 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary)<span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure>

<h6 id="3、Max最大值-可支持字符、日期"><a href="#3、Max最大值-可支持字符、日期" class="headerlink" title="3、Max最大值 可支持字符、日期"></a>3、Max最大值 可支持字符、日期</h6><p> 简单的使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary)<span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure>

<h6 id="4、Min最小值-可支持字符、日期"><a href="#4、Min最小值-可支持字符、日期" class="headerlink" title="4、Min最小值  可支持字符、日期"></a>4、Min最小值  可支持字符、日期</h6><p> 简单的使用 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary)<span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure>

<h6 id="5、Count计算个数"><a href="#5、Count计算个数" class="headerlink" title="5、Count计算个数"></a>5、Count计算个数</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span><span class="operator">/</span>常量值<span class="operator">/</span>阿拉伯数字)<span class="keyword">from</span> employee 统计行数;</span><br></pre></td></tr></table></figure>

<p>效率–mysiam 存储引擎下，count（*）效率最高，默认的引擎innoob，count（*）和count（1）效率差不都，但比count（字段）快，所以一般使用 count（*）统计行数</p>
<p>简单的使用 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(salary)<span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure>

<p>结合：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sun(salary),<span class="built_in">avg</span>(salary),<span class="built_in">max</span>(salary), <span class="built_in">min</span>(salary),<span class="built_in">count</span>(salary)<span class="keyword">from</span> employee</span><br><span class="line"><span class="keyword">select</span> sun(salary), round(<span class="built_in">avg</span>(salary),<span class="number">2</span>) <span class="built_in">max</span>(salary), <span class="built_in">min</span>(salary),<span class="built_in">count</span>(salary)<span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure>

<p><strong>相差天数：datediff（晚，早）</strong></p>
<h5 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h5><p>引入：查询每个部门的平均工资</p>
<p>语法: <strong>group by字句语法</strong> </p>
<p><strong>Select 分组函数，列（要求出现在group by的后面）from 表【where 筛选条件】group by 分组的列表【order by子句】</strong></p>
<p>注意：查询列表比较特殊，要求是分组函数和group by后出现的字段</p>
<p>特点：1、条件分为两类，数据源不一样</p>
<p>分组前筛选（原始表，库里面真实存在的）group by字句where</p>
<p>分组后筛选（分组后的结果集） group by字句后 having</p>
<p>分组函数做条件是放在having子句中</p>
<p>能用分组前筛选的，优先考虑使用分组前筛选</p>
<p>2、group by字句支持的单个字段分组（多个字段之间用逗号隔开没有顺序要求），支持表达式和函数，用的比较少</p>
<p>3、也可以添加排序（排序放在整个分组）</p>
<p>每个工种的最高工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary),job_id <span class="keyword">from</span> employees <span class="keyword">group</span> <span class="keyword">by</span> job_id;</span><br></pre></td></tr></table></figure>

<p>每个位置的部门个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),location_id <span class="keyword">from</span> department <span class="keyword">group</span> <span class="keyword">by</span> location_id;</span><br></pre></td></tr></table></figure>

<p>查询邮箱中包含a字符的，每个部门的平均工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary),department_id <span class="keyword">from</span> employee <span class="keyword">where</span> emails <span class="keyword">like</span> ‘<span class="operator">%</span>a<span class="operator">%</span>’ <span class="keyword">group</span> <span class="keyword">by</span> department_id;</span><br></pre></td></tr></table></figure>

<p>查询有奖金的每个领导手下员工最高工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary),manager_id <span class="keyword">from</span> employee <span class="keyword">where</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">group</span> <span class="keyword">by</span> manager_id;</span><br></pre></td></tr></table></figure>

<p>查询哪个部门的员工个数大于2 (分组后的筛选having)</p>
<p>(1)查询每个部门的员工个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),department_id <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> departmentr_id;</span><br></pre></td></tr></table></figure>

<p>(2) 根据上述结果进行筛选，查询哪个部门的员工个数大于2</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),department_id <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> departmentr_id <span class="keyword">having</span> count（<span class="operator">*</span>）<span class="operator">&gt;</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>查询每个工种有奖金的员工的最高工资大于12000的工种编号和最高工资</p>
<p>(1)查询每个工种有奖金的员工的最高工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salsry),job_id <span class="keyword">from</span> employee <span class="keyword">where</span> comsion_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">group</span> <span class="keyword">by</span> job_id;</span><br></pre></td></tr></table></figure>

<p>(2)根据上述结果进行筛选，查询最高工资大于12000</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salsry),job_id <span class="keyword">from</span> employee <span class="keyword">where</span> comsion_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">group</span> <span class="keyword">by</span> job_id <span class="keyword">having</span> max（salsry）<span class="operator">&gt;</span><span class="number">12000</span>;</span><br></pre></td></tr></table></figure>

<p>查询领导编号&gt;102的每个领导手下的员工最低工资大于5000的领导编号是哪个，以及最低工资</p>
<p> (1)查询每个领导手下最低工资的员工</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salsry),manager_id <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> manager_id;</span><br></pre></td></tr></table></figure>

<p>(2)查询编号&gt;102，最低工资大于5000</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salsry),manager_id <span class="keyword">from</span> employee <span class="keyword">where</span> manage<span class="operator">&gt;</span><span class="number">102</span> <span class="keyword">group</span> <span class="keyword">by</span> manager_id <span class="keyword">having</span> min（salsry）<span class="operator">&gt;</span><span class="number">5000</span>;</span><br></pre></td></tr></table></figure>

<p>按员工姓名长度分组，查询每一组员工个数&gt;5的有哪些</p>
<p>(1)查询每个长度的员工个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),length（last_name）<span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> length(last_name);</span><br></pre></td></tr></table></figure>

<p>(2)查询员工个数&gt;5</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),length(last_name)<span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> length（last_name）<span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>查询一下每个部门每个工种的平均工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(<span class="operator">*</span>),department_id,job_id <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> department_id ,job_id;</span><br></pre></td></tr></table></figure>

<p>查询一下每个部门每个工种的平均工资大于1000，并且按平均工资高低显示出来</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(<span class="operator">*</span>),department_id,job_id <span class="keyword">from</span> employee <span class="keyword">where</span> department_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">group</span> <span class="keyword">by</span> department_id,job_id <span class="keyword">having</span> <span class="built_in">avg</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">10000</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">avg</span>(<span class="operator">*</span>)<span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<h5 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h5><p>含义：又称多表查询，当查询的字段来自于多个表时，就会用到连接查询</p>
<p>笛卡尔集错误情况：select count（*）from beauty 假设输出12行</p>
<p>​                                   select count（*）from boys 假设输出4行</p>
<p>​                                   最终结果为 12*4=48</p>
<p>如何发生：没有有效的连接条件</p>
<p>避免发生：有有效的连接条件</p>
<p>分类：按年代分类——sq192标准：仅仅支持内连接</p>
<p>​            sq199标准：支持内连接+外连接（左外和右外）+交叉连接</p>
<p>按功能分类——内连接：等值连接、非等值连接、自连接</p>
<p>​                           外连接：左外连接、右外连接、圈外练就额</p>
<p>​                           交叉连接</p>
<h6 id="一、sql192语法"><a href="#一、sql192语法" class="headerlink" title="一、sql192语法"></a>一、sql192语法</h6><h6 id="1、等值连接"><a href="#1、等值连接" class="headerlink" title="1、等值连接"></a>1、等值连接</h6><p>特点：夺标等值连接的结果为夺标的交集部分；n表连接，至少需要 </p>
<p>N-1个连接条件；多表的顺序没有要求；一般需要为表起别名；可以搭配所有的子句</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Sex</th>
<th>Boyfried-id</th>
<th>Boyname</th>
<th>Usercp</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>柳岩</td>
<td>女</td>
<td>6</td>
<td>黄晓明</td>
<td>100</td>
</tr>
<tr>
<td>2</td>
<td>热巴</td>
<td>女</td>
<td>2</td>
<td>鹿晗</td>
<td>800</td>
</tr>
<tr>
<td>3</td>
<td>周芷若</td>
<td>女</td>
<td>3</td>
<td>张无忌</td>
<td>30</td>
</tr>
<tr>
<td>4</td>
<td>周冬雨</td>
<td>女</td>
<td>7</td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>杨颖</td>
<td>女</td>
<td>1</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>查询女神名和对应的男神名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> name,boyfriend <span class="keyword">from</span> boys,beauty <span class="keyword">where</span> beauty.boyfriend_id <span class="operator">=</span>boys.id; </span><br></pre></td></tr></table></figure>

<p>查询员工名和对应的部门名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,department_name <span class="keyword">from</span> employee,departments <span class="keyword">where</span>  Employee.department_id <span class="operator">=</span> department.department_id;</span><br></pre></td></tr></table></figure>

<p>查询员工名、工种号、工种名 起别名提高简洁读</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,Employee.job_id,job_title <span class="keyword">from</span> employee e,jobs  J <span class="keyword">where</span> e.job_id <span class="operator">=</span> j.Job_id;</span><br></pre></td></tr></table></figure>

<p><strong>PS：两个表顺序可以呼唤</strong></p>
<p>运行代码都是先执行from 在执行select，若使用了别名，则用别名</p>
<p>查询有奖金的员工名、部门名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,department_name <span class="keyword">from</span> employee e,departments d <span class="keyword">where</span> e.department_id <span class="operator">=</span> d.department_id <span class="keyword">and</span> e.commission <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p>查询城市名字第二个字符为o对应的城市名和部门名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> department_name，city <span class="keyword">from</span> departments d ,location l <span class="keyword">where</span> d.location_id <span class="operator">=</span> l.location_id <span class="keyword">and</span> city <span class="keyword">like</span> <span class="string">&#x27;_o%&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询每个城市的部门个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="built_in">count</span>(<span class="operator">*</span>),city <span class="keyword">from</span> departments d,location l <span class="keyword">where</span> d.location id <span class="operator">=</span>l.location id <span class="keyword">group</span> <span class="keyword">by</span> city;</span><br></pre></td></tr></table></figure>

<p>查询有奖金的部门名和领导编号和该部门的最低工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> department_name,manager_id,<span class="built_in">min</span>(salary) <span class="keyword">from</span> departments d ,employee e <span class="keyword">where</span> d.department_id <span class="operator">=</span> e.department_id <span class="keyword">and</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">group</span> <span class="keyword">by</span> department_name,d.manager_id;</span><br></pre></td></tr></table></figure>

<p>查询每个工种的工种名和员工个数，并且按员工个数降序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> job_title,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> employee e,jobs j <span class="keyword">where</span> e.job_id <span class="operator">=</span> j.job_id <span class="keyword">group</span> <span class="keyword">by</span> job_title <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>查询员工名、部门名和所在的城市有s的字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,department_name,city <span class="keyword">from</span> employee e,departments d,location l <span class="keyword">where</span> e.department_id <span class="operator">=</span> d.department_id <span class="keyword">and</span> d.location_id <span class="operator">=</span> l.location_id <span class="keyword">and</span> city <span class="keyword">like</span> <span class="string">&#x27;s%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h6 id="2、非等值连接-数值不是等于，而是在两个数之间"><a href="#2、非等值连接-数值不是等于，而是在两个数之间" class="headerlink" title="2、非等值连接 数值不是等于，而是在两个数之间"></a>2、非等值连接 数值不是等于，而是在两个数之间</h6><p>查询员工工资和工资级别</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> salary,grade_level <span class="keyword">from</span> employee e,job_grades g <span class="keyword">where</span> salary <span class="keyword">between</span> g.lowest_sal <span class="keyword">and</span> g.highest_sal;</span><br></pre></td></tr></table></figure>

<h6 id="3、自连接-自己连接自己"><a href="#3、自连接-自己连接自己" class="headerlink" title="3、自连接  自己连接自己"></a>3、自连接  自己连接自己</h6><p>查询员工名和上级的名字</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> e.last_name,e.employee_id m.last_name,m.employee_id <span class="keyword">from</span> employeee e,employees m <span class="keyword">where</span> e.employee_id<span class="operator">=</span>m.employee_id;</span><br></pre></td></tr></table></figure>

<h6 id="二、sql199语法"><a href="#二、sql199语法" class="headerlink" title="二、sql199语法"></a>二、sql199语法</h6><p>语法 : select 查询列表 </p>
<p>from 列表1 别名 【连接类型】join 列表2 别名 on 连接条件【where 筛选条件】【group by 分组】【having 筛选条件】【order by 排序列表】</p>
<p>分类:内连接:——inner</p>
<p>外连接：左外——left 【outer】</p>
<p>​                 右外——right【outer】</p>
<p>​               全外——full【outer】</p>
<p>交叉连接：cross</p>
<h6 id="1、内连接-（查询交集部分）"><a href="#1、内连接-（查询交集部分）" class="headerlink" title="1、内连接 （查询交集部分）"></a>1、内连接 （查询交集部分）</h6><p>语法：select 查询列表 </p>
<p>from 列表1 别名 inner join 列表2 别名 on 连接条件</p>
<p>分类：等值连接、非等值连接、自连接</p>
<p>特点：添加排序、筛选、分组 </p>
<p>​            Inner可以省略</p>
<p>筛选条件放where后面，连接条件放on后面，提高分离性，便于     阅读</p>
<h6 id="2、等值连接"><a href="#2、等值连接" class="headerlink" title="2、等值连接"></a>2、等值连接</h6><p> 查询员工名、部门名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,department_name <span class="keyword">from</span> employee e <span class="keyword">inner</span> <span class="keyword">join</span> departments d <span class="keyword">on</span> e.department_id <span class="operator">=</span> d.department_id ;</span><br></pre></td></tr></table></figure>

<p> 查询名字中包含e的员工名和工种名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,join_title <span class="keyword">from</span> employee e <span class="keyword">inner</span> <span class="keyword">join</span> jobs j <span class="keyword">on</span> e.job_id <span class="operator">=</span> j.job_id <span class="keyword">where</span> e.last_name <span class="keyword">like</span> <span class="string">&#x27;%e%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>查询部门个数&gt;3的城市名和部门个数（添加分组和筛选）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> city,<span class="built_in">count</span>(<span class="operator">*</span>)部门个数 <span class="keyword">from</span> departments d <span class="keyword">inner</span> <span class="keyword">join</span> elocation l <span class="keyword">on</span> d.location_id <span class="operator">=</span> l.location_id <span class="keyword">group</span> <span class="keyword">by</span> city <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p> 查询哪个部门的员工个数&gt;3的部门名和员工个数，并按个数降序（添加排序）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="built_in">count</span>(<span class="operator">*</span>)部门个数 ,departments_id <span class="keyword">from</span> employee <span class="keyword">inner</span> <span class="keyword">join</span> departments d <span class="keyword">on</span> e.department_id <span class="operator">=</span> d.department_id <span class="keyword">group</span> <span class="keyword">by</span> departments_name <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>查询员工名、部门名、工种名、并按部门名降序（）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> last_name,epartments_name,job_title <span class="keyword">from</span> employee e <span class="keyword">inner</span> <span class="keyword">join</span> departments d <span class="keyword">on</span> e.department_id <span class="operator">=</span> d.department_id <span class="keyword">inner</span> <span class="keyword">join</span> jobs j <span class="keyword">on</span> e.jobs_id <span class="operator">=</span> j.jobs_id <span class="keyword">order</span> <span class="keyword">by</span> departments_name <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<h6 id="3、外连接（用于查询一个表中，另一个表没有的记录）"><a href="#3、外连接（用于查询一个表中，另一个表没有的记录）" class="headerlink" title="3、外连接（用于查询一个表中，另一个表没有的记录）"></a>3、外连接（用于查询一个表中，另一个表没有的记录）</h6><p>特点：1、如果从表中有和他匹配的，则显示匹配的值</p>
<p>​                 如果从表中没有和他匹配的，则显示null</p>
<p>​                 外连接查询结果=内连接结果+主表中有而从表没有的</p>
<p>2、左外连接：left join 左边的是主表</p>
<p>​     右外连接：right join右边的是主表</p>
<p>3、左外和右外交换两个表的顺序，可以实现同样的效果如果 </p>
<p>用beauty匹配boys表，则beauty表为主体表，boys为从表，主表不变，从表填充 </p>
<p>4、全外连接=内连接结果+表1中有但表2中没有的+表2中有但表1中没有的</p>
<p>查询男朋友不在男神表的女神名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">左外：<span class="keyword">select</span> b.name <span class="keyword">from</span> beauty b <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> boys bo <span class="keyword">on</span> b.<span class="string">&#x27;noyfriend_id&#x27;</span><span class="operator">=</span>bo.<span class="string">&#x27;id&#x27;</span> <span class="keyword">where</span> bo.<span class="string">&#x27;id&#x27;</span> <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p>查询哪个部门没有员工</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#左外</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>,e.employee_id <span class="keyword">from</span> department d <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> employees e <span class="keyword">on</span> d.<span class="string">&#x27;department_id&#x27;</span><span class="operator">=</span>e.<span class="string">&#x27;department_id&#x27;</span> <span class="keyword">where</span> e.<span class="string">&#x27;employee_id&#x27;</span> <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#右外</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>,e.employee_id <span class="keyword">from</span> employees e <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> employees e <span class="keyword">on</span> d.<span class="string">&#x27;department_id&#x27;</span><span class="operator">=</span>e.<span class="string">&#x27;department_id&#x27;</span> <span class="keyword">where</span> e.<span class="string">&#x27;employee_id&#x27;</span> <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h6 id="4、全外连接（交集-两个表）"><a href="#4、全外连接（交集-两个表）" class="headerlink" title="4、全外连接（交集+两个表）"></a>4、全外连接（交集+两个表）</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> bo.<span class="operator">*</span>,b.<span class="operator">*</span> <span class="keyword">from</span> beauty b <span class="keyword">full</span> <span class="keyword">outer</span> <span class="keyword">join</span> boys.bo <span class="keyword">on</span> b.<span class="string">&#x27;boyfriend_id&#x27;</span><span class="operator">=</span>bo.<span class="string">&#x27;id’; </span></span><br></pre></td></tr></table></figure>

<h6 id="5、交叉连接-乘积连接）"><a href="#5、交叉连接-乘积连接）" class="headerlink" title="5、交叉连接(乘积连接）"></a>5、交叉连接(乘积连接）</h6><p>select bo.<em>,b.</em> from beauty b full cross join boys bo </p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%9310-16418126560921.png" alt="image-20220109204241236"></p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%9311-16418126691932.png" alt="image-20220109204250462"></p>
<h5 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h5><p>含义：出现在其他语句中的select语句，称为子查询或内查询</p>
<p>外部的查询称为主查询或外查询</p>
<p>分类：按子查询出现的位置——select 后面：仅仅支持标量子查询</p>
<p>​           from后面：支持表子查询</p>
<p>​           where或having后面：标量子查询、列子查询、行子查询</p>
<p>​           exists后面–相关子查询：表子查询</p>
<p>按结果集行列数不同——标量子查询（结果集只有一行一列）</p>
<p>​                                          列子查询（结果集只有一列多行）</p>
<p>​                                          行子查询（结果集只有一行多列）</p>
<p>​                                          表子查询（结果集一般为多行多列）</p>
<p><img src="/2022/01/10/SQL%E5%88%9D%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%9312-16418127622883.png"></p>
<h6 id="一、where或having后面"><a href="#一、where或having后面" class="headerlink" title="一、where或having后面"></a>一、where或having后面</h6><p>标量子查询（单行子查询）、列子查询（多行子查询）、行子查询（多列多行）</p>
<p>特点：1、子查询放在小括号内</p>
<p>​            2、子查询放在条件右侧</p>
<p>​            3、 标量子查询：一般搭配单行操作符使用&lt; 、&gt; 、&lt;=、 &gt;=、          =、&lt;&gt;不等于； 列子查询：一般搭配多行操作符使用in、and/some、all</p>
<p>​           4、子查询的执行优先于主查迅执行，主查迅的条件用到了子查询   的结果 </p>
<h6 id="1、标量子查询"><a href="#1、标量子查询" class="headerlink" title="1、标量子查询"></a>1、标量子查询</h6><p>查询谁的工资比Abel高</p>
<p>（1）查询Abel工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary <span class="keyword">from</span> employee <span class="keyword">where</span> last_name <span class="operator">=</span> <span class="string">&#x27;Abel&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>（2）查询员工工资，满足salsry&gt;上述结果</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salsry<span class="operator">&gt;</span>( <span class="keyword">select</span> salary <span class="keyword">from</span> Employee <span class="keyword">where</span> last_name <span class="operator">=</span> <span class="string">&#x27;Abel&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>返回job_id与141号员工相同，salary比143号员工多的员的姓名、</p>
<p>job_id和工资  </p>
<p>（1）查询143号员工</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary <span class="keyword">from</span> employee <span class="keyword">where</span> job_id <span class="operator">=</span><span class="number">143</span>;</span><br></pre></td></tr></table></figure>

<p>（2）job_id与141号员工相同,salary比143号员工多的员工的姓名、job_id和工资  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name,job_id,salary <span class="keyword">from</span> employee <span class="keyword">where</span> salsry<span class="operator">&gt;</span>(<span class="keyword">select</span> last_name <span class="keyword">from</span> employee <span class="keyword">where</span> employee_id <span class="operator">=</span><span class="number">143</span>) <span class="operator">&amp;&amp;</span> job_id <span class="operator">=</span> <span class="number">141</span>;</span><br></pre></td></tr></table></figure>

<p>返回公司工资最少的员工名字、job_id和salary</p>
<p>（1）查询工资最低工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary) <span class="keyword">from</span> employee ;</span><br></pre></td></tr></table></figure>

<p>（2）查询员工名字、job_id和salary </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name,job_id,salsry <span class="keyword">from</span> employee <span class="keyword">where</span> salary<span class="operator">=</span>( <span class="keyword">select</span> <span class="built_in">min</span>(salary) <span class="keyword">from</span> employee );</span><br></pre></td></tr></table></figure>

<p>查询最低工资大于50号部门最低工资的部门id和其最低工资</p>
<p> （1）50号部门最低工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary) <span class="keyword">from</span> employee <span class="keyword">where</span> department_id <span class="operator">=</span><span class="number">50</span>;</span><br></pre></td></tr></table></figure>

<p>（2）查询每个部门的最低工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary)，department_id <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> department_id;</span><br></pre></td></tr></table></figure>

<p>（3）查询满足最低工资大于50号部门</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary),department_id <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> department_id <span class="keyword">having</span> <span class="built_in">min</span>(salary)<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">min</span>(salary)<span class="keyword">from</span> employee <span class="keyword">where</span> department_id <span class="operator">=</span><span class="number">50</span>);</span><br></pre></td></tr></table></figure>

<h6 id="2、列子查询（多行子查询）"><a href="#2、列子查询（多行子查询）" class="headerlink" title="2、列子查询（多行子查询）"></a>2、列子查询（多行子查询）</h6><p>操作符：in/not in 等于列表中的任意一个   指一个数列</p>
<p>​               Any/some 和子查询返回某一个值比较</p>
<p>​               All 和子查询返回的所有值比较</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/01/10/%E5%AF%B9%E4%BA%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%90%8D%E8%AF%8D%E7%9A%84%E7%90%86%E8%A7%A3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2022/01/10/Git%20/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title"></div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2022 Yuu Xii
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>